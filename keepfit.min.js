!function(e,t){var i="keepfit";"function"==typeof define&&define.amd?define(i,t):"object"==typeof module&&"object"==typeof exports?module.exports=t():"object"==typeof exports?exports[i]=t():e[i]=t()}(this,function(){let p,u,n,f,x,v,o;function r(e){if("scale"==n){var w=window.innerWidth;var h=window.innerHeight;var{fit:s,align:c,lock:m}=u;void 0!==v&&(document.documentElement.style.fontSize=v+"px");let e=1,t=1,i=0,n=0,o,r=0,a={w:w,h:h},l=h<=w?"landscape":"portrait",d=l==x;n=d||!m?(r=0,"width"===s?(e=t=a.w/f.w,i=(a.h-f.h*e)/2):"height"===s?(e=t=a.h/f.h,n=(a.w-f.w*t)/2):"both"===s&&(e=a.w/f.w,t=a.h/f.h,n=0,i=0),i=c.includes("top")?0:i,c.includes("left")?0:n):(r=90,"width"===s?(e=t=a.h/f.w,i=(a.h-f.w*e)/2,n=(a.w+f.h*e)/2):"height"===s?(e=t=a.w/f.h,i=(a.h-f.w*t)/2,n=a.w):"both"===s&&(e=a.w/f.h,t=a.h/f.w,n=a.w,i=0),i=c.includes("left")?0:i,c.includes("top")?a.w:n);o=`scale(${e}, ${t}) rotate(${r}deg)`,p.setAttribute("style",`position: absolute;width: ${f.w}px;height: ${f.h}px;top: ${i}px;left: ${n}px;transform-origin: 0px 0px;transform: ${o}`)}else{var t,i;"rem"==n&&(h=v,w=document.documentElement.style,m=f.w,s=f.h,c=m/s,{innerWidth:t,innerHeight:i}=window,c=(c<t/i?i/s:t/m)*h,w.fontSize=Math.min(Math.max(c,12),150)+"px")}}return function(e,t){if(!e||!t||!t.size)throw new Error("Invalid parameters");p=e,u=t,n=(u.mode||"scale").toLowerCase(),f={w:u.size[0]||1920,h:u.size[1]||1080},x=f.w>=f.h?"landscape":"portrait",v=void 0===u.px2rem?100:u.px2rem,u.fit=(u.fit||"width").toLowerCase(),u.align=(u.align||"center").toLowerCase(),u.lock=void 0===u.lock||u.lock;let i=document.querySelector('meta[name="viewport"]');e="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no",i?i.content=e:((i=document.createElement("meta")).setAttribute("name","viewport"),i.setAttribute("content",e),document.getElementsByTagName("head")[0].appendChild(i)),o&&window.removeEventListener("resize",o),o=function(t,i){let n=null;return function(...e){n&&clearTimeout(n),n=setTimeout(()=>t.apply(this,e),i)}}(r,16),window.addEventListener("resize",o),o()}});