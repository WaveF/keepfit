!function(root,factory){let moduleName="keepfit";"function"==typeof define?define("keepfit",factory):"object"==typeof module&&"object"==typeof exports?module.exports=factory():"object"==typeof exports?exports.keepfit=factory():root.keepfit=factory()}(this,(function(){let container,options,mode,designSize,designDir,px2rem;function keepfit(target,opts){let viewport;container=target,options=opts,mode=options.mode||"scale",designSize={w:options.size[0]||1920,h:options.size[1]||1080},designDir=designSize.w>=designSize.h?"landscape":"portrait",px2rem=void 0===options.px2rem?100:options.px2rem,document.getElementsByTagName("meta").viewport.content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no",onResizeHandler(),window.addEventListener("resize",onResizeHandler)}function onResizeHandler(e){"scale"==mode.toLowerCase()?useScaleMode(window.innerWidth,window.innerHeight):"rem"==mode.toLowerCase()&&useRemMode(px2rem)}function useScaleMode(w,h){let fit=options.fit.toLowerCase()||"width",align=options.align.toLowerCase()||"center",lock=options.lock,ratioX=1,ratioY=1,newTop=0,newLeft=0,newTransform,rotate=0,screenSize={w:w,h:h},screenDir,matchDir=(w>=h?"landscape":"portrait")==designDir;matchDir||!lock?(rotate=0,"width"===fit?(ratioX=ratioY=screenSize.w/designSize.w,newTop=(screenSize.h-designSize.h*ratioX)/2):"height"===fit?(ratioX=ratioY=screenSize.h/designSize.h,newLeft=(screenSize.w-designSize.w*ratioY)/2):"both"===fit&&(ratioX=screenSize.w/designSize.w,ratioY=screenSize.h/designSize.h,newTop=newLeft=0),newTop=align.includes("top")?0:newTop,newLeft=align.includes("left")?0:newLeft):matchDir&&!lock||(rotate=90,"width"===fit?(ratioX=ratioY=screenSize.h/designSize.w,newTop=(screenSize.h-designSize.w*ratioX)/2,newLeft=(screenSize.w+designSize.h*ratioX)/2):"height"===fit?(ratioX=ratioY=screenSize.w/designSize.h,newTop=(screenSize.h-designSize.w*ratioY)/2,newLeft=screenSize.w):"both"===fit&&(ratioX=screenSize.w/designSize.h,ratioY=screenSize.h/designSize.w,newLeft=screenSize.w),newTop=align.includes("left")?0:newTop,newLeft=align.includes("top")?screenSize.w:newLeft),newTransform=`scale(${ratioX}, ${ratioY}) rotate(${rotate}deg)`,container.setAttribute("style",`\n      position: absolute;\n      width: ${designSize.w}px;\n      height: ${designSize.h}px;\n      top: ${newTop}px;\n      left: ${newLeft}px;\n      transform-origin: 0px 0px;\n      transform: ${newTransform}\n    `)}function useRemMode(base){const htmlStyle=document.documentElement.style,designWidth=designSize.w,designHeight=designSize.h,designRatio=designWidth/designHeight,{innerWidth:width,innerHeight:height}=window,ratio=width/height;htmlStyle.fontSize=(ratio>designRatio?height/designHeight:width/designWidth)*base+"px"}return keepfit}));