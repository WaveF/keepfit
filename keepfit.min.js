!function(root,factory){let moduleName="keepfit";"function"==typeof define?define("keepfit",factory):"object"==typeof module&&"object"==typeof exports?module.exports=factory():"object"==typeof exports?exports.keepfit=factory():root.keepfit=factory()}(this,(function(){let target,fitMode,designSize,alignment;return function main(el,params){target=el||document.body;let fit=params.fit||"width",size=params.size||[1920,1080],align=params.align||"top left";fitMode=fit,alignment=align;let viewport=document.getElementsByTagName("meta").viewport;viewport.parentElement.removeChild(viewport),viewport=appendViewPortMeta(size);let config=formatMetaContent(viewport.content),designWidth=config.width,designHeight=config.height;designSize=[designWidth,designHeight],"width"==fit.toLowerCase()?(fitWidthScale(target),window.onresize=fitWidthScale):"height"==fit.toLowerCase()?(fitHeightScale(target),window.onresize=fitHeightScale):"all"==fit.toLowerCase()&&(fitAllScale(target),window.onresize=fitAllScale)};function fitWidthScale(e){let winSize,ratio=[window.innerWidth,window.innerHeight][0]/designSize[0];setScale(target,ratio)}function fitHeightScale(e){let winSize,ratio=[window.innerWidth,window.innerHeight][1]/designSize[1];setScale(target,ratio)}function fitAllScale(e){let winSize=[window.innerWidth,window.innerHeight],ratioW=winSize[0]/designSize[0],ratioH=winSize[1]/designSize[1];setAllScale(target,ratioW,ratioH)}function setScale(el,ratio){el.style.transformOrigin=alignment,"center"==alignment?(el.style.position="absolute",el.style.top="50%",el.style.left="50%",el.style.transform=`translate(-50%, -50%) scale(${ratio})`):-1!=alignment.indexOf("top")&&-1!=alignment.indexOf("center")?(el.style.position="absolute",el.style.top="0",el.style.left="50%",el.style.transform=`translateX(-50%) scale(${ratio})`):-1!=alignment.indexOf("top")&&-1!=alignment.indexOf("left")?(el.style.position="absolute",el.style.top="0",el.style.left="0",el.style.transform=`scale(${ratio})`):el.style.transform=`scale(${ratio})`}function setAllScale(el,ratioW,ratioH){el.parentNode.style.overflow="hidden",el.style.transformOrigin="top left",el.style.position="absolute",el.style.top="0",el.style.left="0",el.style.transform=`scale(${ratioW}, ${ratioH})`}function getTransform(el){let st=window.getComputedStyle(el,null),tr,values=(st.getPropertyValue("-webkit-transform")||st.getPropertyValue("-moz-transform")||st.getPropertyValue("-ms-transform")||st.getPropertyValue("-o-transform")||st.getPropertyValue("transform")||"FAIL").split("(")[1].split(")")[0].split(","),a=values[0],b=values[1],c=values[2],d=values[3],scale=Math.sqrt(a*a+b*b),sin=b/scale,angle;return{scale:scale,rotate:Math.round(Math.atan2(b,a)*(180/Math.PI))}}function appendViewPortMeta(size){size=size||[1920,1080];let meta=document.createElement("meta");return meta.content=`width=${size[0]},height=${size[1]},initial-scale=1.0,maximum-scale=1,user-scalable=no`,document.head.appendChild(meta),meta}function formatMetaContent(str){let res={},arr=str.split(",");for(let i=0;i<arr.length;i++){let kv=arr[i].split("="),key=kv[0],val=kv[1];isNaN(Number(val))||(val=Number(val)),res[key]=val}return res}}));